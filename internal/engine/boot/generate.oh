#!/usr/bin/env oh

# This script still uses old oh syntax.

define common: import (... bin/common.oh)

export _stdout_: open w ("/"::join $_origin_ generated.go)

common::introduction `(basename $0) $GOPACKAGE

echo "// Script returns the boot script for oh."
echo "func Script() string { //nolint:funlen"
echo "	return `"
cat (... boot.oh)
echo "`"
echo "}"
echo
echo '//go:generate ./generate.oh'
echo '//go:generate go fmt generated.go'


