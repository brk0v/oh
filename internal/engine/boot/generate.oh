#!/usr/bin/env oh

define common: import (... $ORIGIN bin/common.oh)

export stdout: open 'w' (... $ORIGIN generated.go)

common introduction `(basename $0) $GOPACKAGE

echo
echo "// Script returns the boot script for oh."
echo "func Script() string { //nolint:funlen"
echo -n "	return `"
cat (... $ORIGIN boot.oh)
echo "`"
echo "}"
echo
echo '//go:generate ../../../oh ./generate.oh'
echo '//go:generate go fmt generated.go'

